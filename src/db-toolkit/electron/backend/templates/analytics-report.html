<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Analytics Report</title>
</head>
<body style="margin: 0; padding: 40px 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background-color: #f5f5f5;">
    <table width="100%" cellpadding="0" cellspacing="0" style="background-color: #f5f5f5;">
        <tr>
            <td align="center">
                <table width="800" cellpadding="0" cellspacing="0" style="background-color: #ffffff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                    <!-- Header -->
                    <tr>
                        <td style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 40px; text-align: center; border-radius: 8px 8px 0 0;">
                            <h1 style="margin: 0 0 10px 0; color: #ffffff; font-size: 32px; font-weight: 700;">ðŸ“Š Database Analytics Report</h1>
                            <p style="margin: 0 0 5px 0; color: rgba(255,255,255,0.9); font-size: 18px;">{{CONNECTION_NAME}}</p>
                            <p style="margin: 0; color: rgba(255,255,255,0.8); font-size: 14px;">Generated: {{TIMESTAMP}}</p>
                        </td>
                    </tr>
                    <!-- Current Metrics -->
                    <tr>
                        <td style="padding: 30px 40px;">
                            <h2 style="margin: 0 0 20px 0; color: #10b981; font-size: 20px; font-weight: 700; border-bottom: 2px solid #10b981; padding-bottom: 10px;">Current Metrics</h2>
                            <table width="100%" cellpadding="0" cellspacing="0">
                                <tr>
                                    <td width="50%" style="padding: 15px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px;">
                                        <p style="margin: 0 0 8px 0; color: #6b7280; font-size: 14px;">Active Connections</p>
                                        <p style="margin: 0; color: #1f2937; font-size: 28px; font-weight: 700;">{{ACTIVE_CONNECTIONS}}</p>
                                    </td>
                                    <td width="50%" style="padding: 15px; background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px;">
                                        <p style="margin: 0 0 8px 0; color: #6b7280; font-size: 14px;">Database Size</p>
                                        <p style="margin: 0; color: #1f2937; font-size: 28px; font-weight: 700;">{{DATABASE_SIZE}}</p>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <!-- Query Distribution -->
                    <tr>
                        <td style="padding: 0 40px 30px 40px;">
                            <h2 style="margin: 0 0 15px 0; color: #10b981; font-size: 20px; font-weight: 700; border-bottom: 2px solid #10b981; padding-bottom: 10px;">Query Distribution</h2>
                            {{QUERY_STATS}}
                        </td>
                    </tr>
                    <!-- Current Queries -->
                    <tr>
                        <td style="padding: 0 40px 30px 40px;">
                            <h2 style="margin: 0 0 15px 0; color: #10b981; font-size: 20px; font-weight: 700; border-bottom: 2px solid #10b981; padding-bottom: 10px;">Current Active Queries</h2>
                            <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
                                <thead>
                                    <tr style="background: #f3f4f6;">
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">PID</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">User</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Duration</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Query</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{CURRENT_QUERIES}}
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <!-- Slow Queries -->
                    <tr>
                        <td style="padding: 0 40px 30px 40px;">
                            <h2 style="margin: 0 0 15px 0; color: #10b981; font-size: 20px; font-weight: 700; border-bottom: 2px solid #10b981; padding-bottom: 10px;">Slow Query Log</h2>
                            <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
                                <thead>
                                    <tr style="background: #f3f4f6;">
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Timestamp</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Duration</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Query</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{SLOW_QUERIES}}
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <!-- Table Stats -->
                    <tr>
                        <td style="padding: 0 40px 30px 40px;">
                            <h2 style="margin: 0 0 15px 0; color: #10b981; font-size: 20px; font-weight: 700; border-bottom: 2px solid #10b981; padding-bottom: 10px;">Table Statistics</h2>
                            <table width="100%" cellpadding="0" cellspacing="0" style="border-collapse: collapse;">
                                <thead>
                                    <tr style="background: #f3f4f6;">
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Table</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Size</th>
                                        <th style="text-align: left; padding: 12px; font-weight: 600; color: #374151; border-bottom: 2px solid #e5e7eb;">Rows</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {{TABLE_STATS}}
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <!-- Footer -->
                    <tr>
                        <td style="background-color: #f7fafc; padding: 30px 40px; text-align: center; border-radius: 0 0 8px 8px; border-top: 1px solid #e2e8f0;">
                            <p style="margin: 0 0 10px 0; color: #718096; font-size: 13px;">Generated by DB Toolkit</p>
                            <p style="margin: 0; color: #a0aec0; font-size: 12px;">Â© 2025 DB Toolkit. All rights reserved.</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>
